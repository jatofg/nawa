<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAWA: nawa::Session Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAWA<span id="projectnumber">&#160;0.9</span>
   </div>
   <div id="projectbrief">Web Application Framework for C++</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classnawa_1_1Session.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classnawa_1_1Session-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">nawa::Session Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Session_8h_source.html">nawa/session/Session.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6446fafec5f34c865659145a1c85cd72"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#a6446fafec5f34c865659145a1c85cd72">~Session</a> ()</td></tr>
<tr class="separator:a6446fafec5f34c865659145a1c85cd72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8c14d8dac8dfcded424ecd5ce929cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#a0d8c14d8dac8dfcded424ecd5ce929cb">Session</a> (<a class="el" href="classnawa_1_1Connection.html">Connection</a> &amp;connection)</td></tr>
<tr class="separator:a0d8c14d8dac8dfcded424ecd5ce929cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62dea076417704c14ed69f7744ad555c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#a62dea076417704c14ed69f7744ad555c">start</a> (std::string sessionId, std::optional&lt; unsigned long &gt; keepalive=std::nullopt)</td></tr>
<tr class="separator:a62dea076417704c14ed69f7744ad555c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc2add97fbd2a9bb522fba587b2207b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#a1cc2add97fbd2a9bb522fba587b2207b">start</a> (<a class="el" href="classnawa_1_1Cookie.html">nawa::Cookie</a> properties=<a class="el" href="classnawa_1_1Cookie.html">Cookie</a>())</td></tr>
<tr class="separator:a1cc2add97fbd2a9bb522fba587b2207b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7bed16bdb95634e2b9aee92d6f235e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#aa7bed16bdb95634e2b9aee92d6f235e7">established</a> () const</td></tr>
<tr class="separator:aa7bed16bdb95634e2b9aee92d6f235e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19186704540cdf1a99bf262c048daf4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#af19186704540cdf1a99bf262c048daf4">isSet</a> (std::string const &amp;key) const</td></tr>
<tr class="separator:af19186704540cdf1a99bf262c048daf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1770c8c2befab5760ca6309af69aeed9"><td class="memItemLeft" align="right" valign="top">std::any&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#a1770c8c2befab5760ca6309af69aeed9">operator[]</a> (std::string const &amp;key) const</td></tr>
<tr class="separator:a1770c8c2befab5760ca6309af69aeed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5527f724b5eec1bae35b466c5791e4c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#a5527f724b5eec1bae35b466c5791e4c2">set</a> (std::string key, const std::any &amp;value)</td></tr>
<tr class="separator:a5527f724b5eec1bae35b466c5791e4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5166edc96389537b165c54f8db03e1e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#a5166edc96389537b165c54f8db03e1e2">set</a> (std::string key, char const *value)</td></tr>
<tr class="separator:a5166edc96389537b165c54f8db03e1e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a926ddc875c44684f6bb3ea3748398"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab2a926ddc875c44684f6bb3ea3748398"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#ab2a926ddc875c44684f6bb3ea3748398">set</a> (std::string key, T const &amp;value)</td></tr>
<tr class="separator:ab2a926ddc875c44684f6bb3ea3748398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae707fa680ababe663fab9feb1ba14870"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#ae707fa680ababe663fab9feb1ba14870">unset</a> (std::string const &amp;key)</td></tr>
<tr class="separator:ae707fa680ababe663fab9feb1ba14870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5c8a4e83413accd53ee37bd9b8faaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#a7c5c8a4e83413accd53ee37bd9b8faaf">invalidate</a> ()</td></tr>
<tr class="separator:a7c5c8a4e83413accd53ee37bd9b8faaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86923a5b848e1e2be066ae2d0317c7b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#ac86923a5b848e1e2be066ae2d0317c7b">getID</a> () const</td></tr>
<tr class="separator:ac86923a5b848e1e2be066ae2d0317c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac10ceee46fa0ae0f8575d5d873616c3c"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1Session.html#ac10ceee46fa0ae0f8575d5d873616c3c">RequestHandler</a></td></tr>
<tr class="separator:ac10ceee46fa0ae0f8575d5d873616c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class for managing sessions and getting and setting connection-independent session data. </p>

<p class="definition">Definition at line <a class="el" href="Session_8h_source.html#l00037">37</a> of file <a class="el" href="Session_8h_source.html">Session.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6446fafec5f34c865659145a1c85cd72" name="a6446fafec5f34c865659145a1c85cd72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6446fafec5f34c865659145a1c85cd72">&#9670;&nbsp;</a></span>~Session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nawa::Session::~Session </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0d8c14d8dac8dfcded424ecd5ce929cb" name="a0d8c14d8dac8dfcded424ecd5ce929cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8c14d8dac8dfcded424ecd5ce929cb">&#9670;&nbsp;</a></span>Session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Session::Session </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnawa_1_1Connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Construct a new <a class="el" href="classnawa_1_1Session.html">Session</a> object. This will just store the <a class="el" href="classnawa_1_1Connection.html">Connection</a> reference in the object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>Reference to the current <a class="el" href="classnawa_1_1Connection.html">Connection</a> (for getting and setting cookies). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00120">120</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a62dea076417704c14ed69f7744ad555c" name="a62dea076417704c14ed69f7744ad555c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62dea076417704c14ed69f7744ad555c">&#9670;&nbsp;</a></span>start() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Session::start </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>sessionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; unsigned long &gt;&#160;</td>
          <td class="paramname"><em>keepalive</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Start the session based on a given session ID (if possible). If a session is already active, this function will just return the current session ID.</p>
<p >Please note that in order to start a new session without sending a session cookie, this overload has to be used, e.g., by passing an empty string for sessionId.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sessionId</td><td>The session ID. If empty or if no session with the given ID exists, a new session with a new session ID will be generated. </td></tr>
    <tr><td class="paramname">keepalive</td><td><a class="el" href="classnawa_1_1Session.html">Session</a> duration in seconds. Overrides the value in the NAWA config file if present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new session ID (may differ from the given sessionId if no session with the given ID is valid). </dd></dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00127">127</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<a id="a1cc2add97fbd2a9bb522fba587b2207b" name="a1cc2add97fbd2a9bb522fba587b2207b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cc2add97fbd2a9bb522fba587b2207b">&#9670;&nbsp;</a></span>start() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Session::start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnawa_1_1Cookie.html">nawa::Cookie</a>&#160;</td>
          <td class="paramname"><em>properties</em> = <code><a class="el" href="classnawa_1_1Cookie.html">Cookie</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Start the session (load existing session based on a cookie sent by the client or create a new one). This will send a session cookie to the client. The properties/attributes of the session cookie are determined by, with decreasing precedence,<br  />
</p><ol type="1">
<li>the <a class="el" href="classnawa_1_1Cookie.html">Cookie</a> object that may be passed as an optional parameter to this function and will be used as a template for the cookie. See the param description on how to use it.</li>
<li>the configuration in the NAWA configuration file,</li>
<li>and, of course, by the cookie policy that can be set via <a class="el" href="classnawa_1_1Connection.html#a051341aa63ae9ebf7268f11d50f26212">Connection::setCookiePolicy</a> (if it contains stronger protections than the configuration file).</li>
</ol>
<p >The duration (keep-alive) of the session is defined in the NAWA config file, but can be overridden by setting the attribute maxAge of the parameter object, see below.</p>
<p ><b>IMPORTANT!</b> This function will NOT work correctly after flushing the response (as setting a session cookie is impossible then). It is recommended to call <a class="el" href="classnawa_1_1Session.html#a62dea076417704c14ed69f7744ad555c">start()</a> directly in the beginning of your program.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">properties</td><td>Template for the cookie sent to the client. You can use it to influence the behavior of <a class="el" href="classnawa_1_1Session.html">Session</a> and to make sure the cookie is properly secured. Setting options in this <a class="el" href="classnawa_1_1Cookie.html">Cookie</a> object will override the respective options from the configuration file and the cookie policy. The attributes will be used as follows:<ul>
<li>content: will be ignored (and replaced by the session ID)</li>
<li>expires: set this to &gt; 0 (e.g., to 1), if the Expires and Max-Age attributes should be set for the cookie. The value will be replaced by the proper expiry time.</li>
<li>maxAge: will be used as the session duration (inactive keep-alive, server-side!) if &gt; 0. If expires == 0, this attribute will be reset to 0 before setting the cookie.</li>
<li>secure: send the Secure attribute with the cookie.</li>
<li>httpOnly: send the HttpOnly attribute with the cookie.</li>
<li>sameSite: set the SameSite attribute to lax (if sameSite == 1) or strict (if sameSite &gt; 1). </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00211">211</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<a id="aa7bed16bdb95634e2b9aee92d6f235e7" name="aa7bed16bdb95634e2b9aee92d6f235e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7bed16bdb95634e2b9aee92d6f235e7">&#9670;&nbsp;</a></span>established()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Session::established </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Check whether a session is currently active (has been started). </p><dl class="section return"><dt>Returns</dt><dd>True if session is established, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00274">274</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<a id="af19186704540cdf1a99bf262c048daf4" name="af19186704540cdf1a99bf262c048daf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19186704540cdf1a99bf262c048daf4">&#9670;&nbsp;</a></span>isSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Session::isSet </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Check whether there exists a stored value for the given key. Please note that the behavior of this function might differ from <code>[key].has_value()</code> - while this function will also return true if the key has been set to an empty std::any, the latter one only returns true if the std::any contains an object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a value exists for this key, false otherwise. Always false if no session is active. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00278">278</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<a id="a1770c8c2befab5760ca6309af69aeed9" name="a1770c8c2befab5760ca6309af69aeed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1770c8c2befab5760ca6309af69aeed9">&#9670;&nbsp;</a></span>operator[]()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::any Session::operator[] </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the value at the given key (as a std::any object). To actually receive the stored object, use <code>std::any_cast</code> (example: <code>std::any_cast&lt;std::string&gt;(conn.session()["test"])</code>). You will have to explicitly state the type of the stored object as a template argument of <code>std::any_cast</code> (as C++ is statically typed). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to get value for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value at key. If no value exists for that key or no session established, a std::any without value will be returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00286">286</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<a id="a5527f724b5eec1bae35b466c5791e4c2" name="a5527f724b5eec1bae35b466c5791e4c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5527f724b5eec1bae35b466c5791e4c2">&#9670;&nbsp;</a></span>set() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Session::set </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::any &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set key to a value of type std::any. Throws a <a class="el" href="classnawa_1_1Exception.html">nawa::Exception</a> with error code 1 if no session has been established. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to set. </td></tr>
    <tr><td class="paramname">value</td><td>Value to set the key to. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00297">297</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<a id="a5166edc96389537b165c54f8db03e1e2" name="a5166edc96389537b165c54f8db03e1e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5166edc96389537b165c54f8db03e1e2">&#9670;&nbsp;</a></span>set() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nawa::Session::set </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Set key to a string value. This function exists for convenience and makes sure that you do not save a const char* (c-style string) into a session (a terrible idea, as such a pointer would not be available anymore on the next request and therefore cause a segmentation fault). For std::string values, the next specialization (arbitrary type) will be used. The c-style string will be wrapped into a std::string, which will be wrapped into a Any value. As this function internally calls set(std::string, Any), a <a class="el" href="classnawa_1_1Exception.html">nawa::Exception</a> with error code 1 will be thrown if no session has been established. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to set. </td></tr>
    <tr><td class="paramname">value</td><td>C-string that will be used as the value (will be stored as a std::string!). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Session_8h_source.html#l00149">149</a> of file <a class="el" href="Session_8h_source.html">Session.h</a>.</p>

</div>
</div>
<a id="ab2a926ddc875c44684f6bb3ea3748398" name="ab2a926ddc875c44684f6bb3ea3748398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2a926ddc875c44684f6bb3ea3748398">&#9670;&nbsp;</a></span>set() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nawa::Session::set </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T const &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Set key to a variable of an arbitrary type. This function exists just for convenience and will create a new std::any from the value type and call set(std::string, std::any), and will therefore throw a <a class="el" href="classnawa_1_1Exception.html">nawa::Exception</a> with error code 1 if no session has been established. As you need to explicitly state the type when receiving the value later on, explicitly constructing the desired type might make your code more readable and less error-prone (if the value is directly constructed and not given as a variable). </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of the value. Can usually be deducted automatically by the compiler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to set. </td></tr>
    <tr><td class="paramname">value</td><td>Value to set the key to. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Session_8h_source.html#l00164">164</a> of file <a class="el" href="Session_8h_source.html">Session.h</a>.</p>

</div>
</div>
<a id="ae707fa680ababe663fab9feb1ba14870" name="ae707fa680ababe663fab9feb1ba14870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae707fa680ababe663fab9feb1ba14870">&#9670;&nbsp;</a></span>unset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Session::unset </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Remove the session variable with the given key. Throws a <a class="el" href="classnawa_1_1Exception.html">nawa::Exception</a> with error code 1 if no session has been established. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to remove. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00305">305</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<a id="a7c5c8a4e83413accd53ee37bd9b8faaf" name="a7c5c8a4e83413accd53ee37bd9b8faaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5c8a4e83413accd53ee37bd9b8faaf">&#9670;&nbsp;</a></span>invalidate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Session::invalidate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Terminate and delete the currently existing session along with its data and dequeue the session cookie. This function will do nothing if no session is currently active. After invalidating the current session, you may start a new one, as long as the response has not already been flushed (as in this case, the cookie header has already been sent). </p>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00313">313</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<a id="ac86923a5b848e1e2be066ae2d0317c7b" name="ac86923a5b848e1e2be066ae2d0317c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86923a5b848e1e2be066ae2d0317c7b">&#9670;&nbsp;</a></span>getID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Session::getID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the session ID of the current session. </p><dl class="section return"><dt>Returns</dt><dd>The current session ID. Empty if no session is active. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Session_8cpp_source.html#l00332">332</a> of file <a class="el" href="Session_8cpp_source.html">Session.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac10ceee46fa0ae0f8575d5d873616c3c" name="ac10ceee46fa0ae0f8575d5d873616c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac10ceee46fa0ae0f8575d5d873616c3c">&#9670;&nbsp;</a></span>RequestHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend nawa::Session::RequestHandler</td>
        </tr>
      </table>
</div><div class="memdoc">
<p ><a class="el" href="classnawa_1_1RequestHandler.html">RequestHandler</a> is declared as a friend in order to be able to call destroy(). </p>

<p class="definition">Definition at line <a class="el" href="Session_8h_source.html#l00192">192</a> of file <a class="el" href="Session_8h_source.html">Session.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/nawa/session/<a class="el" href="Session_8h_source.html">Session.h</a></li>
<li>src/session/<a class="el" href="Session_8cpp_source.html">Session.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacenawa.html">nawa</a></li><li class="navelem"><a class="el" href="classnawa_1_1Session.html">Session</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
