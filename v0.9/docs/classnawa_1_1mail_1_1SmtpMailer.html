<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAWA: nawa::mail::SmtpMailer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAWA<span id="projectnumber">&#160;0.9</span>
   </div>
   <div id="projectbrief">Web Application Framework for C++</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classnawa_1_1mail_1_1SmtpMailer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classnawa_1_1mail_1_1SmtpMailer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">nawa::mail::SmtpMailer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="SmtpMailer_8h_source.html">nawa/mail/SmtpMailer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5fac0713102a5c8040385abbf7998fae"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998fae">TlsMode</a> { <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998faeab50339a10e1de285ac99d4c3990b8693">NONE</a>
, <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998faea7d941e8286faccee8c8cb1857e4400a1">SMTPS</a>
, <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998faea62927190e610de056d080fc0be5724ba">TRY_STARTTLS</a>
, <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998faea17dc4634a8791297a0544ae2356b23c8">REQUIRE_STARTTLS</a>
 }</td></tr>
<tr class="separator:a5fac0713102a5c8040385abbf7998fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aea45947938f2e44dcbc305964287e4a8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#aea45947938f2e44dcbc305964287e4a8">~SmtpMailer</a> ()</td></tr>
<tr class="separator:aea45947938f2e44dcbc305964287e4a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e22846e1690c1960c39f60c58c0815d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a7e22846e1690c1960c39f60c58c0815d">SmtpMailer</a> (std::string serverDomain=&quot;localhost&quot;, unsigned int serverPort=25, <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998fae">TlsMode</a> serverTlsMode=<a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998faeab50339a10e1de285ac99d4c3990b8693">TlsMode::NONE</a>, bool verifyServerTlsCert=true, std::string authUsername=&quot;&quot;, std::string authPassword=&quot;&quot;, long connectionTimeout=10000)</td></tr>
<tr class="separator:a7e22846e1690c1960c39f60c58c0815d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ccc57c61ea25fab4060df8cdde2857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a44ccc57c61ea25fab4060df8cdde2857">setServer</a> (std::string domain, unsigned int port=25, <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998fae">TlsMode</a> tlsMode=<a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998faeab50339a10e1de285ac99d4c3990b8693">TlsMode::NONE</a>, bool verifyTlsCert=true)</td></tr>
<tr class="separator:a44ccc57c61ea25fab4060df8cdde2857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96c49f6102fea761bfe2b4588ab61d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#ab96c49f6102fea761bfe2b4588ab61d0">setAuth</a> (std::string username, std::string password)</td></tr>
<tr class="separator:ab96c49f6102fea761bfe2b4588ab61d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02519320bbda660335f062b4d823fda9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a02519320bbda660335f062b4d823fda9">setConnectionTimeout</a> (long timeout)</td></tr>
<tr class="separator:a02519320bbda660335f062b4d823fda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab622d666783783137625d050bf0e4b76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#ab622d666783783137625d050bf0e4b76">enqueue</a> (std::shared_ptr&lt; <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> &gt; email, <a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a> to, std::shared_ptr&lt; <a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a> &gt; from, std::shared_ptr&lt; <a class="el" href="namespacenawa_1_1mail.html#a73efdf3c267892f043643049c48fe320">ReplacementRules</a> &gt; replacementRules=std::shared_ptr&lt; <a class="el" href="namespacenawa_1_1mail.html#a73efdf3c267892f043643049c48fe320">ReplacementRules</a> &gt;())</td></tr>
<tr class="separator:ab622d666783783137625d050bf0e4b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8d98533a09c273fe2d82df8de82489"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a1f8d98533a09c273fe2d82df8de82489">bulkEnqueue</a> (std::shared_ptr&lt; <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> &gt; email, std::vector&lt; <a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a> &gt; recipients, std::shared_ptr&lt; <a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a> &gt; from, std::shared_ptr&lt; <a class="el" href="namespacenawa_1_1mail.html#a73efdf3c267892f043643049c48fe320">ReplacementRules</a> &gt; replacementRules=std::shared_ptr&lt; <a class="el" href="namespacenawa_1_1mail.html#a73efdf3c267892f043643049c48fe320">ReplacementRules</a> &gt;())</td></tr>
<tr class="separator:a1f8d98533a09c273fe2d82df8de82489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377b147bda9388d12a43efc9494bb085"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a377b147bda9388d12a43efc9494bb085">clearQueue</a> ()</td></tr>
<tr class="separator:a377b147bda9388d12a43efc9494bb085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd9d0de2fcfce2201a30280cb111cfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a1cd9d0de2fcfce2201a30280cb111cfc">processQueue</a> () const</td></tr>
<tr class="separator:a1cd9d0de2fcfce2201a30280cb111cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="SmtpMailer_8h_source.html#l00033">33</a> of file <a class="el" href="SmtpMailer_8h_source.html">SmtpMailer.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a5fac0713102a5c8040385abbf7998fae" name="a5fac0713102a5c8040385abbf7998fae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fac0713102a5c8040385abbf7998fae">&#9670;&nbsp;</a></span>TlsMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998fae">nawa::mail::SmtpMailer::TlsMode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >How TLS should be used when connecting to an SMTP server.</p><ul>
<li>NONE: Use an unencrypted connection.</li>
<li>SMTPS: Use SMTPS (SMTP over TLS).</li>
<li>TRY_STARTTLS: Try to switch to a TLS connection by using the STARTTLS command, if that fails, use an unencrypted connection. This might be a security risk, better don't use it.</li>
<li>REQUIRE_STARTTLS: Use the STARTTLS command to establish an encrypted connection, abort if not possible. </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5fac0713102a5c8040385abbf7998faeab50339a10e1de285ac99d4c3990b8693" name="a5fac0713102a5c8040385abbf7998faeab50339a10e1de285ac99d4c3990b8693"></a>NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5fac0713102a5c8040385abbf7998faea7d941e8286faccee8c8cb1857e4400a1" name="a5fac0713102a5c8040385abbf7998faea7d941e8286faccee8c8cb1857e4400a1"></a>SMTPS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5fac0713102a5c8040385abbf7998faea62927190e610de056d080fc0be5724ba" name="a5fac0713102a5c8040385abbf7998faea62927190e610de056d080fc0be5724ba"></a>TRY_STARTTLS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5fac0713102a5c8040385abbf7998faea17dc4634a8791297a0544ae2356b23c8" name="a5fac0713102a5c8040385abbf7998faea17dc4634a8791297a0544ae2356b23c8"></a>REQUIRE_STARTTLS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8h_source.html#l00045">45</a> of file <a class="el" href="SmtpMailer_8h_source.html">SmtpMailer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aea45947938f2e44dcbc305964287e4a8" name="aea45947938f2e44dcbc305964287e4a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea45947938f2e44dcbc305964287e4a8">&#9670;&nbsp;</a></span>~SmtpMailer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nawa::mail::SmtpMailer::~SmtpMailer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7e22846e1690c1960c39f60c58c0815d" name="a7e22846e1690c1960c39f60c58c0815d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e22846e1690c1960c39f60c58c0815d">&#9670;&nbsp;</a></span>SmtpMailer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mail::SmtpMailer::SmtpMailer </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>serverDomain</em> = <code>&quot;localhost&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>serverPort</em> = <code>25</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998fae">SmtpMailer::TlsMode</a>&#160;</td>
          <td class="paramname"><em>serverTlsMode</em> = <code><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998faeab50339a10e1de285ac99d4c3990b8693">TlsMode::NONE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verifyServerTlsCert</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>authUsername</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>authPassword</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>connectionTimeout</em> = <code>10000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Construct an <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html">SmtpMailer</a> object and optionally set the connection and authentication properties. Constructing the object will not establish a connection to the SMTP server yet. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serverDomain</td><td>Domain name or IP address of the SMTP server to use. IPv6 addresses have to be enclosed in brackets. This value will be used to assemble the SMTP(S) URL and will not be checked for validity. </td></tr>
    <tr><td class="paramname">serverPort</td><td>Port of the SMTP server. </td></tr>
    <tr><td class="paramname">serverTlsMode</td><td>How TLS should be used, see TlsMode struct. </td></tr>
    <tr><td class="paramname">verifyServerTlsCert</td><td>Whether to verify the validity of the SMTP server's TLS certificate, if TLS is used (highly recommended). </td></tr>
    <tr><td class="paramname">authUsername</td><td>Username for authentication. </td></tr>
    <tr><td class="paramname">authPassword</td><td>Password for authentication. </td></tr>
    <tr><td class="paramname">connectionTimeout</td><td>Timeout for SMTP connection attempts in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8cpp_source.html#l00095">95</a> of file <a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a44ccc57c61ea25fab4060df8cdde2857" name="a44ccc57c61ea25fab4060df8cdde2857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ccc57c61ea25fab4060df8cdde2857">&#9670;&nbsp;</a></span>setServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mail::SmtpMailer::setServer </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>port</em> = <code>25</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998fae">SmtpMailer::TlsMode</a>&#160;</td>
          <td class="paramname"><em>tlsMode</em> = <code><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a5fac0713102a5c8040385abbf7998faeab50339a10e1de285ac99d4c3990b8693">TlsMode::NONE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verifyTlsCert</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the connection properties. This will not establish a connection to the SMTP server yet. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>Domain name or IP address of the SMTP server to use. IPv6 addresses have to be enclosed in brackets. This value will be used to assemble the SMTP(S) URL and will not be checked for validity. </td></tr>
    <tr><td class="paramname">port</td><td>Port of the SMTP server. </td></tr>
    <tr><td class="paramname">tlsMode</td><td>How TLS should be used, see TlsMode struct. </td></tr>
    <tr><td class="paramname">verifyTlsCert</td><td>Whether to verify the validity of the SMTP server's TLS certificate, if TLS is used (highly recommended). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8cpp_source.html#l00102">102</a> of file <a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a>.</p>

</div>
</div>
<a id="ab96c49f6102fea761bfe2b4588ab61d0" name="ab96c49f6102fea761bfe2b4588ab61d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab96c49f6102fea761bfe2b4588ab61d0">&#9670;&nbsp;</a></span>setAuth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mail::SmtpMailer::setAuth </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the authentication parameters for the SMTP connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>Username for authentication. </td></tr>
    <tr><td class="paramname">password</td><td>Password for authentication. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8cpp_source.html#l00109">109</a> of file <a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a>.</p>

</div>
</div>
<a id="a02519320bbda660335f062b4d823fda9" name="a02519320bbda660335f062b4d823fda9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02519320bbda660335f062b4d823fda9">&#9670;&nbsp;</a></span>setConnectionTimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mail::SmtpMailer::setConnectionTimeout </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the timeout for SMTP connection attempts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout for SMTP connection attempts in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8cpp_source.html#l00114">114</a> of file <a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a>.</p>

</div>
</div>
<a id="ab622d666783783137625d050bf0e4b76" name="ab622d666783783137625d050bf0e4b76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab622d666783783137625d050bf0e4b76">&#9670;&nbsp;</a></span>enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mail::SmtpMailer::enqueue </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> &gt;&#160;</td>
          <td class="paramname"><em>email</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a>&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a> &gt;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="namespacenawa_1_1mail.html#a73efdf3c267892f043643049c48fe320">ReplacementRules</a> &gt;&#160;</td>
          <td class="paramname"><em>replacementRules</em> = <code>std::shared_ptr&lt;<a class="el" href="namespacenawa_1_1mail.html#a73efdf3c267892f043643049c48fe320">ReplacementRules</a>&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add an email to the sending queue. The email will be sent upon calling <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#a1cd9d0de2fcfce2201a30280cb111cfc">processQueue()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> object representing the email to be enqueued. This function will expect a shared_ptr to the email object, this allows efficient memory management: If the same email shall be sent to a lot of recipients, the same shared_ptr object can be passed to all calls to <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#ab622d666783783137625d050bf0e4b76">enqueue()</a>, which means that only the pointer will be copied, but the <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> object has to be kept in memory only once. To personalize the emails, you can instead use the replacement rules - one rule set can be saved for each recipient. Please note that this function might modify your <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> object (it will set the obligatory "Date" and "From" headers, if they are not there yet, as well as the "Message-ID" header, if possible). </td></tr>
    <tr><td class="paramname">to</td><td>The recipient of the email (envelope). Please note that this will not modify the headers of your email (as shown in the email app of the recipient), those have to be set inside of the <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> object. This is the address the mail will be actually sent to. </td></tr>
    <tr><td class="paramname">from</td><td>The sender of the email (envelope, also known as the return-path). It should be an email address that the SMTP server "owns", i.e., has the permission to send emails from this address (the spam filter of the recipient normally uses this address to classify the email). This address should be set in all cases, except for those noted in RFC 5321, section 4.5.5. This function will take a shared_ptr, too, as the sender of mass emails is usually always the same, so you can reuse the same object for all recipients. While this address may be different from the one in the "From" header of the email (which is required), this function will set the "From" header from this address in case it doesn't exist in the email yet. </td></tr>
    <tr><td class="paramname">replacementRules</td><td>An optional set of replacement rules. It is a map with a string as key (the text to be replaced) and another string as value (the text to replace it with). This set is saved and evaluated for each recipient individually, so this is a relatively memory-efficient way to personalize emails. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8cpp_source.html#l00118">118</a> of file <a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a>.</p>

</div>
</div>
<a id="a1f8d98533a09c273fe2d82df8de82489" name="a1f8d98533a09c273fe2d82df8de82489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8d98533a09c273fe2d82df8de82489">&#9670;&nbsp;</a></span>bulkEnqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mail::SmtpMailer::bulkEnqueue </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> &gt;&#160;</td>
          <td class="paramname"><em>email</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a> &gt;&#160;</td>
          <td class="paramname"><em>recipients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a> &gt;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="namespacenawa_1_1mail.html#a73efdf3c267892f043643049c48fe320">ReplacementRules</a> &gt;&#160;</td>
          <td class="paramname"><em>replacementRules</em> = <code>std::shared_ptr&lt;<a class="el" href="namespacenawa_1_1mail.html#a73efdf3c267892f043643049c48fe320">ReplacementRules</a>&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This function will enqueue an email for a list of recipients. This improves efficiency, but it doesn't allow the application of replacement rules for each recipient individually. Replacement rules can still be used, but the replacements will be the same for all recipients (if you need personalization, you should call <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#ab622d666783783137625d050bf0e4b76">enqueue()</a> for each recipient and pass individual rule sets; the email object can be the same nevertheless, thanks to the shared_ptr). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The <a class="el" href="classnawa_1_1mail_1_1Email.html">Email</a> object (for comments, look at the docs for <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#ab622d666783783137625d050bf0e4b76">enqueue()</a>). </td></tr>
    <tr><td class="paramname">recipients</td><td>The list of recipients as <a class="el" href="classnawa_1_1mail_1_1EmailAddress.html">EmailAddress</a> objects (envelope, see <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#ab622d666783783137625d050bf0e4b76">enqueue()</a> docs). </td></tr>
    <tr><td class="paramname">from</td><td>The sender of the email (envelope, see <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#ab622d666783783137625d050bf0e4b76">enqueue()</a> docs). </td></tr>
    <tr><td class="paramname">replacementRules</td><td>An optional set of replacement rules (see <a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html#ab622d666783783137625d050bf0e4b76">enqueue()</a> docs). They will be applied to the email once and do not offer personalization to individual recipients. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8cpp_source.html#l00124">124</a> of file <a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a>.</p>

</div>
</div>
<a id="a377b147bda9388d12a43efc9494bb085" name="a377b147bda9388d12a43efc9494bb085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377b147bda9388d12a43efc9494bb085">&#9670;&nbsp;</a></span>clearQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mail::SmtpMailer::clearQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Clear the email queue. </p>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8cpp_source.html#l00130">130</a> of file <a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a>.</p>

</div>
</div>
<a id="a1cd9d0de2fcfce2201a30280cb111cfc" name="a1cd9d0de2fcfce2201a30280cb111cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd9d0de2fcfce2201a30280cb111cfc">&#9670;&nbsp;</a></span>processQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mail::SmtpMailer::processQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Process the queue, i.e., establish an SMTP connection and send all emails in the queue. This function will not modify (and therefore not clear) the queue. In case of errors, a <a class="el" href="classnawa_1_1Exception.html">nawa::Exception</a> with error code 1 will be thrown. </p>

<p class="definition">Definition at line <a class="el" href="SmtpMailer_8cpp_source.html#l00134">134</a> of file <a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/nawa/mail/<a class="el" href="SmtpMailer_8h_source.html">SmtpMailer.h</a></li>
<li>src/mail/<a class="el" href="SmtpMailer_8cpp_source.html">SmtpMailer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacenawa.html">nawa</a></li><li class="navelem"><a class="el" href="namespacenawa_1_1mail.html">mail</a></li><li class="navelem"><a class="el" href="classnawa_1_1mail_1_1SmtpMailer.html">SmtpMailer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
